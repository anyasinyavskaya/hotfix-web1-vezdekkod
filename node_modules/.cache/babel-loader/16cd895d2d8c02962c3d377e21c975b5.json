{"ast":null,"code":"var _jsxFileName = \"/home/anna/\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438/hotfix.web/src/panels/Place.js\";\nimport React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport accounting from 'accounting'; // import PropTypes from 'prop-types';\n\nimport edit from \"../img/edit.svg\";\nimport './place.css';\n\nconst Place = ({\n  item,\n  order,\n  onIncrementPosition,\n  onDecrementPosition,\n  area\n}) => {\n  const ConditionalLink = ({\n    children,\n    to,\n    condition,\n    className,\n    classNameDisabled\n  }) => !!condition && to ? /*#__PURE__*/React.createElement(Link, {\n    to: to,\n    className: className,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 11\n    }\n  }, children) : /*#__PURE__*/React.createElement(\"div\", {\n    className: classNameDisabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 11\n    }\n  }, children);\n\n  const price = useMemo(() => {\n    const foodIds = new Set((item.foods || []).map(item => item.id));\n    const result = Object.values(order).filter(value => {\n      const {\n        item: {\n          id\n        }\n      } = value;\n      return foodIds.has(id);\n    }).reduce((result, value) => {\n      const {\n        count,\n        item: {\n          price\n        }\n      } = value;\n      return result + parseInt(price) * parseInt(count);\n    }, 0);\n    return accounting.formatNumber(result, 0, ' ');\n  }, [order, item]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Place\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"Place__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"aside\", {\n    className: \"Place__trz\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"Place__head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"Place__logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 25\n    }\n  }, area.name)), /*#__PURE__*/React.createElement(Link, {\n    to: \"/edit\",\n    className: \"Place__change-tz\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"change-profile\",\n    src: edit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"aside\", {\n    className: \"Place__restoraunt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"Place__restoraunt-logo\",\n    alt: \"Fastfood logo\",\n    src: item.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"Place__restoraunt-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, item.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"Place__restoraunt-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, item.description)), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"Place__foods\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, item.foods.map(food => /*#__PURE__*/React.createElement(\"li\", {\n    className: \"Place__food\",\n    key: food.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Place__food-logo-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"food logo\",\n    className: \"Place__food-logo\",\n    src: food.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"Place__food-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, food.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"Place__food-composition\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, food.composition), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Place__food-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \".Place__food-price-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430: \", food.price, \"\\xA0\\xA0\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Place__food-button\",\n    onClick: () => {\n      onDecrementPosition({\n        id: food.id,\n        itemId: item.id,\n        areaId: area.id\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }, \"\\xA0\", food.id in order ? order[food.id].count : 0, \"\\xA0\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Place__food-button\",\n    onClick: () => {\n      onIncrementPosition({\n        id: food.id,\n        itemId: item.id,\n        areaId: area.id\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, \"+\"))))), /*#__PURE__*/React.createElement(\"footer\", {\n    className: \"Place__footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ConditionalLink, {\n    to: `/basket/${area.id}/${item.id}`,\n    condition: price > 0,\n    className: \"Place__order\",\n    classNameDisabled: \"Place__order-disabled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437 (\", price, \")\")));\n};\n\nPlace.defaultProps = {\n  item: {},\n  onIncrementPosition: () => {},\n  onDecrementPosition: () => {}\n};\nexport default Place;","map":{"version":3,"sources":["/home/anna/Загрузки/hotfix.web/src/panels/Place.js"],"names":["React","useMemo","Link","accounting","Place","item","order","onIncrementPosition","onDecrementPosition","area","ConditionalLink","children","to","condition","className","classNameDisabled","price","foodIds","Set","foods","map","id","result","Object","values","filter","value","has","reduce","count","parseInt","formatNumber","name","edit","image","description","food","composition","itemId","areaId","defaultProps"],"mappings":"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","sourcesContent":["import React, {useMemo} from 'react';\nimport {Link} from 'react-router-dom';\nimport accounting from 'accounting';\n// import PropTypes from 'prop-types';\n\nimport edit from '../img/edit.svg';\nimport './place.css';\n\n\nconst Place = ({item, order, onIncrementPosition, onDecrementPosition, area}) => {\n    const ConditionalLink = ({children, to, condition, className, classNameDisabled}) => (!!condition && to)\n        ? <Link to={to} className={className}>{children}</Link>\n        : <div className={classNameDisabled}>{children}</div>;\n\n    const price = useMemo(() => {\n        const foodIds = new Set((item.foods || []).map(item => item.id));\n\n        const result = Object.values(order)\n            .filter((value) => {\n                const {item: {id}} = value;\n\n                return foodIds.has(id);\n            })\n            .reduce((result, value) => {\n                const {count, item: {price}} = value;\n\n                return result + parseInt(price) * parseInt(count);\n            }, 0);\n\n        return accounting.formatNumber(result, 0, ' ');\n    }, [order, item]);\n\n    return (\n        <div className=\"Place\">\n            <header className=\"Place__header\">\n                <aside className=\"Place__trz\">\n                    <h1 className=\"Place__head\">\n                        <Link to=\"/\" className=\"Place__logo\">\n                            {area.name}\n                        </Link>\n                    </h1>\n                    <Link to=\"/edit\" className=\"Place__change-tz\">\n                        <img\n                            alt=\"change-profile\"\n                            src={edit}\n                        />\n                    </Link>\n                </aside>\n            </header>\n            <aside className=\"Place__restoraunt\">\n                <img\n                    className=\"Place__restoraunt-logo\"\n                    alt=\"Fastfood logo\"\n                    src={item.image}\n                />\n                <h2\n                    className=\"Place__restoraunt-name\"\n                >\n                    {item.name}\n                </h2>\n                <p className=\"Place__restoraunt-type\">\n                    {item.description}\n                </p>\n            </aside>\n            <ul className=\"Place__foods\">\n                {item.foods.map((food => (\n                    <li\n                        className=\"Place__food\"\n                        key={food.id}\n                    >\n                        <div className=\"Place__food-logo-wrapper\">\n                            <img\n                                alt=\"food logo\"\n                                className=\"Place__food-logo\"\n                                src={food.image}\n                            />\n                        </div>\n                        <h3 className=\"Place__food-name\">\n                            {food.name}\n                        </h3>\n                        <p className=\"Place__food-composition\">\n                            {food.composition}\n                        </p>\n                        <div className=\"Place__food-price\">\n                            <span className=\".Place__food-price-price\">Цена: {food.price}&nbsp;&nbsp;</span>\n                            <button\n                                className=\"Place__food-button\"\n                                onClick={() => {\n                                    onDecrementPosition({id: food.id, itemId: item.id, areaId: area.id});\n                                }}\n                            >\n                                -\n                            </button>\n                            <span>&nbsp;{food.id in order ? order[food.id].count : 0}&nbsp;</span>\n                            <button\n                                className=\"Place__food-button\"\n                                onClick={() => {\n                                    onIncrementPosition({id: food.id, itemId: item.id, areaId: area.id});\n                                }}\n                            >\n                                +\n                            </button>\n                        </div>\n                    </li>\n                )))}\n            </ul>\n            <footer className=\"Place__footer\">\n                <ConditionalLink to={`/basket/${area.id}/${item.id}`} condition={price>0} className=\"Place__order\"\n                classNameDisabled=\"Place__order-disabled\">\n                    Оформить заказ ({price})\n                </ConditionalLink>\n            </footer>\n        </div>\n    );\n};\n\nPlace.defaultProps = {\n    item: {},\n    onIncrementPosition: () => {\n    },\n    onDecrementPosition: () => {\n    },\n};\n\nexport default Place;\n"]},"metadata":{},"sourceType":"module"}